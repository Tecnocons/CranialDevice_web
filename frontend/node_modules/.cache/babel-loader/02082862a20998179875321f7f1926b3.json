{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Davide Grieco\\\\Desktop\\\\CranialDevice_web\\\\frontend\\\\src\\\\pages\\\\patients\\\\AddPatientDialog.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, TextField, Button, Typography, MenuItem } from '@mui/material';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddPatientDialog = ({\n  open,\n  onClose,\n  onPatientAdded\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [newPatient, setNewPatient] = useState({\n    nominativo: '',\n    eta: '',\n    altezza: '',\n    peso: '',\n    sesso: '' // Aggiungi questo campo\n  });\n  const [error, setError] = useState(null);\n  const handleChange = e => {\n    setNewPatient({\n      ...newPatient,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async () => {\n    try {\n      console.log('Submitting patient data:', newPatient);\n      const response = await fetch('http://localhost:5000/api/patients', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify(newPatient)\n      });\n      if (!response.ok) {\n        const data = await response.json();\n        throw new Error(data.message || 'Network response was not ok');\n      }\n\n      // Notifica il genitore che un nuovo paziente è stato aggiunto\n      onPatientAdded();\n      handleClose();\n    } catch (error) {\n      console.error('Error adding patient:', error.message);\n      setError(error.message);\n    }\n  };\n  const handleClose = () => {\n    setNewPatient({\n      nominativo: '',\n      eta: '',\n      altezza: '',\n      peso: '',\n      sesso: '' // Reset sesso\n    });\n    setError(null);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Aggiungi Paziente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n        children: \"Compila i seguenti campi per aggiungere un nuovo paziente.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        name: \"nominativo\",\n        label: \"Nominativo\",\n        type: \"text\",\n        fullWidth: true,\n        value: newPatient.nominativo,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"dense\",\n        name: \"eta\",\n        label: \"Et\\xE0\",\n        type: \"number\",\n        fullWidth: true,\n        value: newPatient.eta,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"dense\",\n        name: \"altezza\",\n        label: \"Altezza\",\n        type: \"number\",\n        fullWidth: true,\n        value: newPatient.altezza,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"dense\",\n        name: \"peso\",\n        label: \"Peso\",\n        type: \"number\",\n        fullWidth: true,\n        value: newPatient.peso,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"dense\",\n        name: \"sesso\",\n        label: \"Sesso\",\n        select: true,\n        fullWidth: true,\n        value: newPatient.sesso,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"maschio\",\n          children: \"Maschio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"femmina\",\n          children: \"Femmina\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"altro\",\n          children: \"Altro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"primary\",\n        children: \"Annulla\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        color: \"primary\",\n        children: \"Aggiungi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(AddPatientDialog, \"UTekrVl6MmmCFejfDzkzY1/3g6s=\", false, function () {\n  return [useAuth];\n});\n_c = AddPatientDialog;\nexport default AddPatientDialog;\nvar _c;\n$RefreshReg$(_c, \"AddPatientDialog\");","map":{"version":3,"names":["React","useState","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","TextField","Button","Typography","MenuItem","useAuth","jsxDEV","_jsxDEV","AddPatientDialog","open","onClose","onPatientAdded","_s","user","newPatient","setNewPatient","nominativo","eta","altezza","peso","sesso","error","setError","handleChange","e","target","name","value","handleSubmit","console","log","response","fetch","method","headers","credentials","body","JSON","stringify","ok","data","json","Error","message","handleClose","children","fileName","_jsxFileName","lineNumber","columnNumber","color","autoFocus","margin","label","type","fullWidth","onChange","select","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Davide Grieco/Desktop/CranialDevice_web/frontend/src/pages/patients/AddPatientDialog.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, TextField, Button, Typography, MenuItem } from '@mui/material';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nconst AddPatientDialog = ({ open, onClose, onPatientAdded }) => {\r\n  const { user } = useAuth();\r\n  const [newPatient, setNewPatient] = useState({\r\n    nominativo: '',\r\n    eta: '',\r\n    altezza: '',\r\n    peso: '',\r\n    sesso: '', // Aggiungi questo campo\r\n  });\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    setNewPatient({ ...newPatient, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      console.log('Submitting patient data:', newPatient);\r\n\r\n      const response = await fetch('http://localhost:5000/api/patients', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(newPatient),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.message || 'Network response was not ok');\r\n      }\r\n\r\n      // Notifica il genitore che un nuovo paziente è stato aggiunto\r\n      onPatientAdded();\r\n      handleClose();\r\n    } catch (error) {\r\n      console.error('Error adding patient:', error.message);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setNewPatient({\r\n      nominativo: '',\r\n      eta: '',\r\n      altezza: '',\r\n      peso: '',\r\n      sesso: '', // Reset sesso\r\n    });\r\n    setError(null);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose}>\r\n      <DialogTitle>Aggiungi Paziente</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          Compila i seguenti campi per aggiungere un nuovo paziente.\r\n        </DialogContentText>\r\n        {error && <Typography color=\"error\">{error}</Typography>}\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          name=\"nominativo\"\r\n          label=\"Nominativo\"\r\n          type=\"text\"\r\n          fullWidth\r\n          value={newPatient.nominativo}\r\n          onChange={handleChange}\r\n        />\r\n        <TextField\r\n          margin=\"dense\"\r\n          name=\"eta\"\r\n          label=\"Età\"\r\n          type=\"number\"\r\n          fullWidth\r\n          value={newPatient.eta}\r\n          onChange={handleChange}\r\n        />\r\n        <TextField\r\n          margin=\"dense\"\r\n          name=\"altezza\"\r\n          label=\"Altezza\"\r\n          type=\"number\"\r\n          fullWidth\r\n          value={newPatient.altezza}\r\n          onChange={handleChange}\r\n        />\r\n        <TextField\r\n          margin=\"dense\"\r\n          name=\"peso\"\r\n          label=\"Peso\"\r\n          type=\"number\"\r\n          fullWidth\r\n          value={newPatient.peso}\r\n          onChange={handleChange}\r\n        />\r\n        <TextField\r\n          margin=\"dense\"\r\n          name=\"sesso\"\r\n          label=\"Sesso\"\r\n          select\r\n          fullWidth\r\n          value={newPatient.sesso}\r\n          onChange={handleChange}\r\n        >\r\n          <MenuItem value=\"maschio\">Maschio</MenuItem>\r\n          <MenuItem value=\"femmina\">Femmina</MenuItem>\r\n          <MenuItem value=\"altro\">Altro</MenuItem>\r\n        </TextField>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Annulla\r\n        </Button>\r\n        <Button onClick={handleSubmit} color=\"primary\">\r\n          Aggiungi\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddPatientDialog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}