{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Davide Grieco\\\\CranialDevice_web\\\\frontend\\\\src\\\\pages\\\\LoginRegister.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, TextField, Button, Card, CardContent, Typography } from '@mui/material';\nimport { styled } from '@mui/system';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Root = styled('div')({\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  height: '100vh',\n  backgroundColor: '#f5f5f5'\n});\nconst StyledCard = styled(Card)({\n  maxWidth: 400,\n  padding: 16,\n  margin: 16\n});\nconst Form = styled('form')({\n  display: 'flex',\n  flexDirection: 'column',\n  gap: 16\n});\nconst StyledButton = styled(Button)({\n  marginTop: 16\n});\nfunction LoginRegister() {\n  _s();\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const [isFirstUser, setIsFirstUser] = useState(true);\n  useEffect(() => {\n    const checkFirstUser = async () => {\n      try {\n        const response = await fetch('http://localhost:5000/check-admin');\n        const data = await response.json();\n        setIsFirstUser(data.isFirstUser);\n      } catch (error) {\n        console.error('Error:', error);\n      }\n    };\n    checkFirstUser();\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const url = isFirstUser ? 'http://localhost:5000/register' : 'http://localhost:5000/login';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        password\n      })\n    });\n    const data = await response.json();\n    setMessage(data.message);\n  };\n  return /*#__PURE__*/_jsxDEV(Root, {\n    children: /*#__PURE__*/_jsxDEV(StyledCard, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h2\",\n          gutterBottom: true,\n          children: isFirstUser ? 'Register as Admin' : 'Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Name\",\n            variant: \"outlined\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Password\",\n            type: \"password\",\n            variant: \"outlined\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledButton, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            children: isFirstUser ? 'Register' : 'Login'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginRegister, \"B6ZRlFqlzrL3vhsoV7gBOdm8pbI=\");\n_c = LoginRegister;\nexport default LoginRegister;\nvar _c;\n$RefreshReg$(_c, \"LoginRegister\");","map":{"version":3,"names":["React","useState","useEffect","Container","TextField","Button","Card","CardContent","Typography","styled","jsxDEV","_jsxDEV","Root","display","justifyContent","alignItems","height","backgroundColor","StyledCard","maxWidth","padding","margin","Form","flexDirection","gap","StyledButton","marginTop","LoginRegister","_s","name","setName","password","setPassword","message","setMessage","isFirstUser","setIsFirstUser","checkFirstUser","response","fetch","data","json","error","console","handleSubmit","e","preventDefault","url","method","headers","body","JSON","stringify","children","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","label","value","onChange","target","required","type","color","_c","$RefreshReg$"],"sources":["C:/Users/Davide Grieco/CranialDevice_web/frontend/src/pages/LoginRegister.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, TextField, Button, Card, CardContent, Typography } from '@mui/material';\r\nimport { styled } from '@mui/system';\r\n\r\nconst Root = styled('div')({\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  height: '100vh',\r\n  backgroundColor: '#f5f5f5',\r\n});\r\n\r\nconst StyledCard = styled(Card)({\r\n  maxWidth: 400,\r\n  padding: 16,\r\n  margin: 16,\r\n});\r\n\r\nconst Form = styled('form')({\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  gap: 16,\r\n});\r\n\r\nconst StyledButton = styled(Button)({\r\n  marginTop: 16,\r\n});\r\n\r\nfunction LoginRegister() {\r\n  const [name, setName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [isFirstUser, setIsFirstUser] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkFirstUser = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:5000/check-admin');\r\n        const data = await response.json();\r\n        setIsFirstUser(data.isFirstUser);\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n      }\r\n    };\r\n    checkFirstUser();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const url = isFirstUser ? 'http://localhost:5000/register' : 'http://localhost:5000/login';\r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ name, password }),\r\n    });\r\n\r\n    const data = await response.json();\r\n    setMessage(data.message);\r\n  };\r\n\r\n  return (\r\n    <Root>\r\n      <StyledCard>\r\n        <CardContent>\r\n          <Typography variant=\"h5\" component=\"h2\" gutterBottom>\r\n            {isFirstUser ? 'Register as Admin' : 'Login'}\r\n          </Typography>\r\n          <Form onSubmit={handleSubmit}>\r\n            <TextField\r\n              label=\"Name\"\r\n              variant=\"outlined\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              required\r\n            />\r\n            <TextField\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              variant=\"outlined\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n            />\r\n            <StyledButton type=\"submit\" variant=\"contained\" color=\"primary\">\r\n              {isFirstUser ? 'Register' : 'Login'}\r\n            </StyledButton>\r\n          </Form>\r\n          {message && <Typography color=\"error\">{message}</Typography>}\r\n        </CardContent>\r\n      </StyledCard>\r\n    </Root>\r\n  );\r\n}\r\n\r\nexport default LoginRegister;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}