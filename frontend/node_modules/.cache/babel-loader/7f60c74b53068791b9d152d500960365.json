{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Davide Grieco\\\\Desktop\\\\CranialDevice_web\\\\frontend\\\\src\\\\pages\\\\patients\\\\AddPatientDialog.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, TextField, Button, Typography } from '@mui/material';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddPatientDialog = ({\n  open,\n  onClose,\n  onPatientAdded\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [newPatient, setNewPatient] = useState({\n    nominativo: '',\n    eta: '',\n    altezza: '',\n    peso: ''\n  });\n  const [error, setError] = useState(null);\n  const handleChange = e => {\n    setNewPatient({\n      ...newPatient,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async () => {\n    try {\n      console.log('Submitting patient data:', newPatient);\n      const response = await fetch('http://localhost:5000/api/patients', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify(newPatient)\n      });\n      if (!response.ok) {\n        const data = await response.json();\n        throw new Error(data.message || 'Network response was not ok');\n      }\n\n      // Notifica il genitore che un nuovo paziente è stato aggiunto\n      onPatientAdded();\n      handleClose();\n    } catch (error) {\n      console.error('Error adding patient:', error.message);\n      setError(error.message);\n    }\n  };\n  const handleClose = () => {\n    setNewPatient({\n      nominativo: '',\n      eta: '',\n      altezza: '',\n      peso: ''\n    });\n    setError(null);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Aggiungi Paziente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n        children: \"Compila i seguenti campi per aggiungere un nuovo paziente.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        name: \"nominativo\",\n        label: \"Nominativo\",\n        type: \"text\",\n        fullWidth: true,\n        value: newPatient.nominativo,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"dense\",\n        name: \"eta\",\n        label: \"Et\\xE0\",\n        type: \"number\",\n        fullWidth: true,\n        value: newPatient.eta,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"dense\",\n        name: \"altezza\",\n        label: \"Altezza\",\n        type: \"number\",\n        fullWidth: true,\n        value: newPatient.altezza,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"dense\",\n        name: \"peso\",\n        label: \"Peso\",\n        type: \"number\",\n        fullWidth: true,\n        value: newPatient.peso,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"primary\",\n        children: \"Annulla\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        color: \"primary\",\n        children: \"Aggiungi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(AddPatientDialog, \"bQprOtWYpe19K4LVFRM/sioEqpw=\", false, function () {\n  return [useAuth];\n});\n_c = AddPatientDialog;\nexport default AddPatientDialog;\nvar _c;\n$RefreshReg$(_c, \"AddPatientDialog\");","map":{"version":3,"names":["React","useState","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","TextField","Button","Typography","useAuth","jsxDEV","_jsxDEV","AddPatientDialog","open","onClose","onPatientAdded","_s","user","newPatient","setNewPatient","nominativo","eta","altezza","peso","error","setError","handleChange","e","target","name","value","handleSubmit","console","log","response","fetch","method","headers","credentials","body","JSON","stringify","ok","data","json","Error","message","handleClose","children","fileName","_jsxFileName","lineNumber","columnNumber","color","autoFocus","margin","label","type","fullWidth","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Davide Grieco/Desktop/CranialDevice_web/frontend/src/pages/patients/AddPatientDialog.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, TextField, Button, Typography } from '@mui/material';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst AddPatientDialog = ({ open, onClose, onPatientAdded }) => {\r\n  const { user } = useAuth();\r\n  const [newPatient, setNewPatient] = useState({\r\n    nominativo: '',\r\n    eta: '',\r\n    altezza: '',\r\n    peso: ''\r\n  });\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    setNewPatient({ ...newPatient, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      console.log('Submitting patient data:', newPatient);\r\n\r\n      const response = await fetch('http://localhost:5000/api/patients', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(newPatient),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.message || 'Network response was not ok');\r\n      }\r\n\r\n      // Notifica il genitore che un nuovo paziente è stato aggiunto\r\n      onPatientAdded();\r\n      handleClose();\r\n    } catch (error) {\r\n      console.error('Error adding patient:', error.message);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setNewPatient({\r\n      nominativo: '',\r\n      eta: '',\r\n      altezza: '',\r\n      peso: ''\r\n    });\r\n    setError(null);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose}>\r\n      <DialogTitle>Aggiungi Paziente</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          Compila i seguenti campi per aggiungere un nuovo paziente.\r\n        </DialogContentText>\r\n        {error && <Typography color=\"error\">{error}</Typography>}\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          name=\"nominativo\"\r\n          label=\"Nominativo\"\r\n          type=\"text\"\r\n          fullWidth\r\n          value={newPatient.nominativo}\r\n          onChange={handleChange}\r\n        />\r\n        <TextField\r\n          margin=\"dense\"\r\n          name=\"eta\"\r\n          label=\"Età\"\r\n          type=\"number\"\r\n          fullWidth\r\n          value={newPatient.eta}\r\n          onChange={handleChange}\r\n        />\r\n        <TextField\r\n          margin=\"dense\"\r\n          name=\"altezza\"\r\n          label=\"Altezza\"\r\n          type=\"number\"\r\n          fullWidth\r\n          value={newPatient.altezza}\r\n          onChange={handleChange}\r\n        />\r\n        <TextField\r\n          margin=\"dense\"\r\n          name=\"peso\"\r\n          label=\"Peso\"\r\n          type=\"number\"\r\n          fullWidth\r\n          value={newPatient.peso}\r\n          onChange={handleChange}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Annulla\r\n        </Button>\r\n        <Button onClick={handleSubmit} color=\"primary\">\r\n          Aggiungi\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddPatientDialog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}